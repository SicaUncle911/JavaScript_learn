<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>垃圾回收理解</title>
	</head>
	<body>
		<h1>一、What's the Garbage?</h1>
		<p>
			没有被使用的变量及引用就是垃圾，包括几个相互引用形成闭环但访问不到的对象、变量。
		</p>
		<h1>二、垃圾回收算法</h1>
		<h2>标记清理</h2>
		<p>
			1、垃圾回收程序运行时，从根出发，将内存中所有变量及其引用都打上标记；<br>
			2、从上下文开始的变量去掉它们的标记以及寻找它们引用的变量也依次去掉标记；<br>
			3、最终将依旧有标记的变量删除，释放内存，因为有标记的说明不可达，不能访问。
		</p>
		<h2>引用计数</h2>
		<p>
			1、对内存中每个值记录被引用的次数；<br>
			2、声明变量并赋引用值则引用设为1，将引用值赋给其他变量引用加1；<br>
			3、引用值的变量被重新赋值覆盖，则引用减1；<br>
			4、当引用值的引用计数变为0时，则说明不再使用该引用值，则回收其内存
		</p>
		<h1>三、性能</h1>
		<p>
			垃圾回收程序运行影响性能，因此垃圾回收程序运行时要让其尽快结束工作。根据已分配对象的大小和数量动态判断何时进行垃圾回收。<br>
			有的浏览器具有主动触发垃圾回收的方法。
		</p>
		<h1>四、内存管理</h1>
		<p>
			1、多用let、const声明变量，因为其作用域是块级作用域，变量使用能更早终止，方便垃圾回收。
			2、实例对象共用隐藏类，并一次性声明好隐藏类所有属性，避免动态属性赋值。当有不想要的属性时避免使用delete创建新的隐藏类，赋值为null保持隐藏类共享。
			3、避免内存泄漏注意使用声明关键字声明变量，避免闭包对外部变量的引用。
		</p>
	</body>
</html>
